<document>
	<date>2014-02-18</date>
        <title>
Installation de S.A.R.A.H. sur le NUC Intel DC3217BY</title>
        <author>Sbastien</author>
        <tags_set>
                <tag>S.A.R.A.H.</tag>
        </tags_set>
        <categories_set>
                <category>Guides Informatiques</category>
        </categories_set>
        <text>Suite au changement de mon pc de salon assemble il y a a peu pres 6 ans, qui etait un peu a labandon et prenait une place du diable dans mon meuble de salon, jai decide de sauter le pas en machetant un NUC DC3217BY qui change du tout au tout. La serie des  NUC de Intel  est une serie de mini PC tres complets, tout en etant livres dans une taille et pour un prix minimes. Concernant la taille, dailleurs, il fait une dimension de 11.7 cm x 11.3 cm. Pour le budget total il faut prevoir a peu pres 270.00 sachant que le NUC est actuellement  en promo sur Pixmania a 139.99 au lieu de 212.00 . Bon cest sur ce nest quun processeur i3, mais mes besoins sont limites: regarder mes films en HD 1080 avec XBMC me servir de  S.A.R.A.H  uniquement avec la partie audio. Pour lutilisation gestuelle je pense que ce sera surement un peu limite niveau processeur.  Je vous propose aujourdhui de decouvrir cette solution.  
 I. Presentation et installation des composants  Donc voici pour commencer la presentation des composants achetes sur Pixmania avec un temps record (commande le mardi matin recu le mercredi midi ) et tout ca avec frais de port gratuit. Voici le ptit joujou NUC DC3217BY:   Pour atteindre ce prix plancher, les NUC sont livres completement nus, il faut donc prevoir tout le materiel necessaire pour lassemblage. Pour commencer, il nous faut un disque dur: le tout petit Crucial mSATA 120 Go (surtout ne pas prendre un SSD normal en 2.5 pouces car vue les dimensions ca ne passera pas) :   La Carte WIFI ainsi que le Bluetooth (autant prendre le Bluetooth en meme temps cest a peine 4 euros plus cher). Il nest pas obligatoire de la prendre puisquil existe un adaptateur RJ45 en 10/100, mais cest plus pratique:   Une barrette memoire de 4Go en 10600 CL9 SODIMM de marque Kingston:   Le cable dalimentation quil faut prevoir car dans les NUC ils ne sont pas compris non plus. Bien prendre celui en forme de trefle (celui que lon retrouve generalement sur les PC Portables).   Voici le deballage: Le nuc et son alimentation. La petite partie que lon voit en bas a droite est un capteur douverture qui joue la musique dIntel quand on ouvre la boite. Lol !   Une vue de derriere ou on peut apercevoir la prise secteur, deux ports en USB 2.0, un port HDMI et un port thunderbolt. On peut aussi apercevoir lemplacement pour le fixer avec un cable anti-arrachement (ci il ne me servira pas trop).   Le detail vraiment pratique: la platine pour pouvoir le fixer derriere lecran, comme ca on ne voit rien. Je ne sais pas encore si je pourrai lutiliser chez moi, mon ecran utilisant un bras articule Vogels:   Maintenant on passe au montage de tout lensemble. On commence par enlever les 4 vis du dessous:   Une fois enleve on peut apercevoir les deux emplacements SODIMM (sur la droite) et les deux emplacements pour le disque dur ainsi que de la carte WIFI / Bluetooth (a gauche). Je me suis servi des deux vis installees sur les entretoises pour fixer les cartes. On commence par installer la barrette memoire: on la met legerement en biais puis on lenfonce tout doucement en respectant bien sur lergot pour detromper. Une fois en place on appuie tout doucement sur la barrette vers la carte mere pour pouvoir enclencher les deux clips dans les deux encoches.   On demonte les deux vis au niveau des entretoises pour pouvoir installer en premier la carte WIFI / Bluetooth. On branche le cable noir a droite puis le cable gris a gauche. Ensuite on glisse la carte dans son emplacement, on maintient la carte appuyee car elle a tendance a se relever un petit peu et en meme temps on visse la vis cote droit.   On fait la meme operation pour le disque dur:   On remonte larriere de lappareil puis on fixe correctement les 4 vis. Comme le NUC est depourvu de sortie audio jai achete une toute petite carte son USB de marque Connectland (moins de 10 euros), ainsi quune paire denceintes Altec Lansing auto-alimente par le port USB pour 16.96  (je ne les ai pour linstant pas encore testes). Voici les enceintes que je me suis prises pour ne pas etre oblige de passer par la tele pour avoir le son (sinon le son passe par lHDMI, donc par la tele).   Et voici la carte son de marque Connectland:   
  II. Installation de Windows 8 et des drivers  On passe a linstallation du systeme dexploitation. Je passerai rapidement sur cette partie, il sagit dune installation de Windows tout ce quil y a de plus classique. Jai vu plusieurs personnes ayant installe Ubuntu ou un autre linux mais on peut aussi en faire un hackintosh pour avoir lenvironnement de la pomme. Personnellement jai hesite entre Windows 7 et 8 mais jai jete mon devolu pour Windows 8. Le systeme de Microsoft est en effet obligatoire pour linstallation de S.A.R.A.H. Si vous installez a partir dun lecteur externe ou dune cle USB, il faudra aller dans le bios (F2ou DEL) puis verifier que ca soit bien lUSB qui boote en premier car je me suis fait avoir (ca me mettait un message derreur au demarrage). Une fois linstallation effectuee, la premiere chose que jai installe est le logiciel  Ma-Config.com  pour pouvoir aller faire une  check list de tous les drivers a mettre a jour . Une fois le plugin installe faites un rafraichissement de la page: cela va lancer la detection du systeme et de la vous aurez acces a tous les drivers quil y a a mettre a jour (pensez a prendre la version la plus recente ). Une fois le systeme installe, nous pouvons maintenant passer a la partie qui nous interesse le plus  
 III. Installation de S.A.R.A.H  Voici donc letape que tout le monde attend: linstallation de  la fabuleuse S.A.R.A.H cree par Jean Philippe Encausse , que je remercie au passage pour cette superbe invention ;-) Pour ceux qui ne connaitraient pas, lobjectif du Projet S.A.R.A.H est davoirune maison intelligenteconnectee a linternet des objets, un peu dans lesprit de laserie  TV Eureka .Le principe est de declencher des requetes HTTP via: la reconnaissance vocale de phrases exprimees en XML la reconnaissance de gestes exprimes en XML la reconnaissance faciale (machine puissante !) une planification Google Calendar la reconnaissance de QRCodes des scripts joues periodiquements La possibilite de gerer entierement XBMC Pour mon cas la possibilte dinteragir avec l Eedomus  ainsi que dautres box grace aux developpements des plugins. Gerer la Freebox Revolution par la voix. Ces requetes HTTP declenchent des scripts NodeJS pour interagir avec les boitiers domotiques, le karotz ou simplement aller chercher de linformation sur internet (scrapping): horaires de cinema, meteo, horaires de bus,  Pour vous donner un apercu de tout ce quil est possible de faire, je vous invite a visiter  le site de Jean Philippe . Voici egalement deux exemples de videos montrant le pilotage de la musique et des lumieres et la gestion de XBMC: Ca donne envie ! Passons donc a linstallatio ! En premier lieu il faut telecharger le  framework 3.1.4  qui est a ce jour le dernier. Ensuite si vous utilisez le Kinect de la xbox 360 (que jai trouve personnellement chez Micromania a 29  sans ladaptateur), il ne faudra pas oublier certaines choses a savoir comme ladaptateur secteur: sans ca cela ne fonctionnera pas car deja la prise USB ne rentre pas dans le port. Ensuite il est preferable de prendre le Kinect de la Xbox 360 plutot que celui prevu pour les PC car deja il est beaucoup plus facile a trouver en occasion et ensuite il offre une meilleure reconnaissance vocale, meme quand il est assez loin (exemple le kinect sur la tele et nous a trois  quatre metres reagira mieux avec celui prevu pour la 360). Rien nempeche dutiliser un micro de PC pour debuter mais pour moi et pour tous ceux qui utilise S.A.R.A.H rien ne vaut le Kinect. Voici ce quil faut pour pouvoir installer le Kinect: Le  SDK v1.8 compatible avec Windows 8 Le  packs de language Francais ( Fr/Fr ) Le  Framework 4.5  a moins quil soit deja installe sur votre ordinateur  Avec tout ceci vous etes pret a vous lancer dans laventure :D Il suffit dans un premier temps de dezziper le fichier S.A.R.A.H dans un repertoire sans espace.Une fois cela fait vous devrez obtenir ceci:   Ensuite installez le SDK v1.8 et le pack de langues. Il ya differents type de voix que lon peut installer comme Virginie, Hortense, . Mon choix sest porte sur Virginie qui est la plus naturelle a mon gout.  Vous pouvez lobtenir ici . Telecharger le fichier Voix francaise Virginie Decompresser le fichier (Extraire tout) Double-cliquer sur le fichier Virginie pour lancer linstallation Pour choisir la voix de Virginie par defaut avec Windows 7 ou 8 ou 8.1 (selon les versions): Ouvrir le Panneau de configuration Ouvrir Reconnaissance vocale Cliquer sur Synthese vocale (Panneau de gauche) Choisir Voix de Virginie (ScanSoft Virginie_Dri40_16kHz) Tester la voix et regler la vitesse Cliquer sur OK Apres tout ceci il faudra faire une reconnaissance vocale afin dameliorer la reconnaissance:   Ensuite demarrer la reconnaissance vocale, puis configurer le micro et enfin  suivre les didacticiels de la reconnaissance vocale   Voici les grandes lignes pour pouvoir demarrer avec SARAH. Il faut commencer par lancer  Server_NodeJS.cmd, puis  Client_Kinect_Audio.cmd ou si vous nutilisez pas le Kinect Client_Microphone   Le  Server_NodeJS.cmd fait apparaitre une fenetre du style DOS:   Ensuite le Client_Kinect_Audio.cmd ou le Client_Kinect.cmd (pour la video) fait apparaitre une petite maison dans la barre des taches juste a cote de lheure, la date, le reseau, La Led verte sur le Kinect clignote et la Led rouge est allumee, signe que le systeme est connecte. Une fois ceci fait on peut commencer a parler au Kinect. La phrase quil ou elle reconnait au demarrage est  Sarah, il est quelle heure?. Elle doit normalement vous repondre via la synthese vocale. On peut aussi le verifier dans la fenetre comme on peut le voir ici:   Ou sinon on peut aussi le voir dans les logs, dans le repertoire bin   Cherchez le document texte qui a ete cree a la date du jour actuel. Pour moi cetait le 14/02/2014.   Puis on voit bien en bas de page que la requete a bien ete prise en compte:   Voila, votre systeme S.A.R.A.H. est operationnel !  
 IV. Conclusion  Voici une petite description de mon nouvel achat qui me satisfait pleinement, tant par sa rapidite dexecution que par sa taille. Enfin un vrai petit bijou pour un i3. Bien sur ce nest pas pas la meme puissance que certains NUC ayant un processeur i5 ou i7, mais pour faire ce que jai besoin il me convient bien. Pour lire des videos en HD 1080P cela passe sans saccade, la lecture est dune sacre fluidite sous XBMC, qui bien sur sera pilote par S.A.R.A.H (je vous presenterai cela dans un prochain article). S.A.R.A.H. peut paraitre un peu complexe a mettre en place au demarrage, mais cela se fait finalement tres vite. De plus, la  communaute Google+  autour du projet, tres active, est la quand on a besoin :D Maintenant que le systeme est en place, nous allons pouvoir preparer le pilotage de XBMC ainsi que de la maison via notre box domotique. De nombreux plugins existent deja pour tout cela. A suivre dans de prochains articles ;-)   S.A.R.A.H. 
        </text>
</document>
