<document>
	<date>2013-02-11</date>
        <title>
Test: dtecteur douverture Fibaro FGK-101</title>
        <author>Cdric Locqueneux</author>
        <tags_set>
                <tag>Fibaro</tag>
                <tag>Z-wave</tag>
        </tags_set>
        <categories_set>
                <category>Peripheriques Z-Wave</category>
        </categories_set>
        <text>Fin novembre  Fibaro nous avait annonce la sortie prochaine dun detecteur douverture Z-Wave  minuscule mais rempli de fonctions, decline en differentes couleurs pour sintegrer nimporte ou. Ce module est maintenant disponible a la vente depuis quelques semaines. La plupart des box domotiques ayant eu le temps de se mettre a jour, il est temps de vous faire un petit retour sur mes tests :D 
 I. Presentation Le nouveau module de Fibaro, le FGK-101, est donc un detecteur douverture de porte Z-Wave. Livre dans le meme format de boite que les micro modules, cela laisse deja presager de sa taille reduite:   Vraiment tres reduite :D    Le detecteur est livre complet: le detecteur en deux parties, une partie se fixant sur la porte et la plus grande sur le montant de celle ci deux collants double face pour une fixation sans trous des vis et chevilles si on prefere ce type de fixation et une petite notice dutilisation   Comme je le disais, ce capteur est vraiment tres petit, puisquil mesure a peine 8cm de long (76mm x 17mm x 19mm pour etre exact), ce qui en fait lun des plus petits de sa categorie:   A comparer a un detecteur douverture de chez Everspring: A gauche, le detecteur Fibaro, a droite celui dEverspring  Sur sa face avant, rien de particulier a signaler, si ce nest une petite led bleue qui sallume par transparence a travers le couvercle pour linclusion ou en cas de detection. Mais quand elle est inactive, elle est totalement invisible. A larriere, en revanche, nous trouvons le detecteur anti arrachement, ainsi que les trous de fixation si on opte pour les vis.  Cest surtout a linterieur que cela devient interessant:  On y decouvre donc une pile un peu speciale, forcement dans un format reduit pour permettre une taille de module aussi petite (Pile ER14250 (1/2AA) 3,6V ). Nous avons ensuite a sa droite un petit bouton dinclusion, la petite led, lantenne (fil noir) et tout a droite un bornier.Ce bornier permettra detendre les capacites de ce detecteur. On pourra en effet y ajouterune sonde 1-wire DS18B20 (non fournie, mais cette sonde coute environ 3):  Attention, le schema peut ne pas paraitre clair, voire faux: en fait le cote plat de la sonde doit etre tourne vers le bas pour obtenir le branchement correct. Moi meme javais monte la sonde a lenvers la premiere fois On pourra egalement utiliser sonentree contact binaire pour y brancher nimporte quel module ou peripherique qui dispose dune sortie contact pour le transformer en detecteur en Zwave (interrupteur sans fil, sonnette, detecteur de niveau, sortie alarme dune camera ou dun capteur, etc)  Mon montage pour les tests:  Via les 4 petits trous a lextremite du capteur, on peut tres bien faire passer les fils pour deporter capteur ou sonde (jusque 30m pour la sonde).  On peut donc imaginer de nombreuses utilisations pour ce capteur: detection douverture pour la securite, avec releve de la temperature en meme temps, creation dun interrupteur sans fil Z-Wave, mesure du niveau deau avec releve de temperature, suivi de sa boite aux lettres, etcIl faudra toutefois faire attention a lutilisation quon en fait: utilise en detecteur douverture sur une fenetre, le releve de temperature peut saverer un peu fausse car les ouvertures sont generalement plus fraiches que le reste de la piece. Il faut en tenir compte si on veut par exemple gerer son chauffage avec ces releves de temperature. Comme tous les modules Fibaro, celui ci possede egalement de nombreux parametres configurables, par exemple lallumage ou non de la led, lecart de temperature autorise entre deux remontees, mais egalement la gestion des scenes: relie a un interrupteur, par exemple, ce module peut devenir un controleur de scenes reconnu comme tel par la box. Notons au passage un detail qui a son importance: le modele que jai recu en test est blanc, mais ce module est disponible en 7 couleurs differentes, qui lui permettront de se fondre dans le decor :D  Domotics la par exemple commande en marron pour se marier avec ses portes:  Maintenant que nous avons vu la partie technique, passons a son utilisation sur nos box domotiques. 
 II. Integration sur les box domotiques  Avant toute chose, un petit mot sur linclusion, qui, vu le nombre de messages sur les forums, peut parfois saverer difficile. Pour ma part, voila comment jai procede: capot ouvert pour pouvoir acceder au bouton dinclusion a cote de la pile capteur pose a plat sur quelque chose, de facon a ce que le petit bouton a larriere soit appuye passage en mode inclusion de la box appuis repetes sur le bouton inclusion (et pas seulement 3 fois daffilee, je nai reussi quen appuyant de facon repetee). En procedant de cette facon, linclusion et lexclusion fonctionnent a chaque fois pour moi.  
 1. HC2 de Fibaro Honneur a la box de la meme marque. Bien evidemment, ce capteur est parfaitement reconnu ! Une fois inclue, on obtient deux nouveaux devices sur le tableau de bord:   Le capteur douverture, bien sur (celui sur lequel figure le niveau de la batterie), et la sonde de temperature. Attention, pour cette derniere, il faudra que la sondeDS18B20 soit connectee avant linclusion. Sinon il faudra exclure le module et le reinclure une fois la sonde en place. Comme on le voit, la temperature est au dizieme de degres pres. Sur le firmware beta actuel, en 3.424, ce detecteur est totalement reconnu, si bien que tous ses parametres sont parfaitement expliques et parametrables facilement. Un petit extrait, la liste des parametres etant assez longue:  Un detail important a noter: le contact avec aimant et la seconde entree binaire sont montes en parallele, ce qui veut dire quon pourra utiliser lun ou lautre. Ici, sur linterface, je nai quun device detecteur, qui reagit a la fois a laimant et a la seconde entree binaire sur le bornier. On ne pourra donc pas declencher dactions differentes en fonction de lentree qui est activee. 
 2. Eedomus Linclusion sur la box  eedomus  ne pose pas de soucis particulier, elle supporte ce capteur deja ce capteur:   Nous avons le detecteur douverture et le suivi de la temperature, comme sur la box de Fibaro. Quon active laimant ou la seconde entree binaire, cest le meme device qui est active. Attention, la premiere fois la remontee du statut est un peu longue, il faut attendre quelques minutes pour que ca se mette a jour. Ensuite la mise a jour est instantanee. Par defaut, la temperature remonte automatiquement toutes les 30min:  
 3. Zibase La  Zibase  a ajoute le support de ce module lors dune mise a jour recente. Lors de linclusion, le detecteur douverture est ajoute, en selectionnant detecteurs / Z-wave, puis en appuyant sur Assoc.:   Pour la sonde de temperature, il faudra simuler une sonde Oregon. En regardant dans le suivi dactivite, il faudra chercher la remontee de temperature du detecteur Zwave, et relever son adresse en OSxxx  On cree alors une sonde de temperature en indiquant ladresse relevee precedemment:  A partir de la on a donc egalement le suivi de temperature, et donc un support complet du module. 
 4. Vera Linclusion sur la  Vera  ne pose pas de probleme particulier. Une fois inclue, on retrouve deux capteurs de mouvement, et un device generic, qui est en fait la sonde de temperature. Pour que ce dernier fonctionne correctement, il faudra aller dans longlet Avance du device generique, et modifier le device_file de D_GenericIO1.xml par D_TemperatureSensor1.xml . On peut aussi passer le category_num a 17 pour bien faire les choses:  On a alors une remontee de temperature correcte, et une detection douverture:  Par contre la remontee de temperature est au degres pres, malheureusement cest une limite de la  Vera  :( Au niveau des entrees detecteurs, meme chose que precedemment: quon active laimant ou la seconde entree, cest le meme device. Ici, comme la  Vera  en a cree deux (un maitre et un module detecteur), les deux devices de detection reagissent en meme temps :/ 
 5. Zipabox  Ce module est deja supporte par la  Zipabox  (version firmware 0.9.95 actuellement). Linclusion ne pose pas de probleme particulier, et on se retrouve avec un detecteur de mouvement / ouverture:   Et une sonde de temperature:   Comme pour les box precedentes, le capteur douverture avec laimant ou le capteur de la deuxieme entree binaire activent le meme device sur la box. En se rendant dans les parametres, on se rend compte que ce module est deja parfaitement reconnu, puisque les parametres internes du module sont accessibles et suffisamment explicites pour etre regles facilement, comme ce quon a deja pu voir sur la box Fibaro:  
 III. Conclusion  Encore une fois, Fibaro a su nous surprendre avec un module minuscule, capable de sintegrer partout grace a ses differentes couleurs, et capable detre utilise dans de nombreuses situations grace a ses fonctionnalites tres completes, notamment la possibilite dy adjoindre une sonde 1-wire et dutiliser son entree binaire. Discret, joli avec ses coins arrondis, complet, personnellement cest un module qui ma seduit et que jaime beaucoup ! Ce sera sans doute un produit phare dans les boutiques cette annee, dautant plus quil est deja parfaitement supporte par toutes les box. Pour ma part je pense que plusieurs vont venir rejoindre mon installation pour quelques petits projets sympas ;-) La seule chose que je regrette un peu est que le contact avec aimant et la seconde entree binaire ne soient pas independantes, il aurait ete possible de declencher des actions differentes en fonction du detecteur active (je pense par exemple a la gestion de ma boite aux lettres avec la grande porte principale et lentree pour le courrier papier). Ce module est  disponible a 49.90 chez notre partenaire Domadoo .   Fibaro   Z-wave 
        </text>
</document>
