<document>
	<date>2014-04-30</date>
        <title>Domoticz, Raspberry Pi et Z-Wave</title>
        <author> Laurent </author>
        <tags_set>
                <tag>domoticz</tag>
                <tag>domotique</tag>
                <tag>logiciel</tag>
                <tag>open source</tag>
                <tag>Raspberry Pi</tag>
                <tag>z-wave</tag>
        </tags_set>
        <categories_set>
                <category>Domotique</category>
        </categories_set>
        <text>
                                                         Nous avons decouvert dans un  precedent billet domotique Domoticz Raspberry Pi famille RF433 USB RFXcom Il est temps de passer a la vitesse superieure, en voyant comment  Domoticz domotique Z-Wave EnOcean Linteret particulier a lutilisation simultanee de differents protocoles au sein dune meme installation  domotique domotique de faire abstraction des differences existant entre ces differents protocoles en presentant les fonctionnalites de la facon la plus unifiee possible au niveau de linterface. permettre linteroperabilite entre les differents protocoles, autrement dit, permettre que les tous les composants puissent interagir ensemble. Nous allons voir quencore une fois  Domoticz Domoticz et le  Z-Wave Interessons nous tout dabord au support du  Z-Wave Domoticz Z-Wave dongle  USB ZStick v2 dAeon Labs Utilisez votre Raspberry Pi avec Open-Z-wave Z-Wave ZStick v2 phase Z-Wave Rappelons simplement que ce dongle  USB Z-Wave extension  RazBerry de Z-Wave.me Domoticz phase Z-Wave Configuration materielle Notre base de depart est la meme que celle detaillee dans la premiere partie de cet article. Nous sommes donc en face de notre  Raspberry Pi USB RFXcom  ZStick phase Z-Wave Donner un nom persistant aux devices  USB Linux Avant de pouvoir declarer nos differents dongles  USB Domoticz devices /dev/ttyUSBx Linux device USB Domoticz Nous allons donc creer des alias  persistants regles UDEV Linux USB Cette configuration ne peut pas se faire helas depuis  linterface WEB SSH lignes de commandes Domoticz SSH Putty raspberry 1 ere On utilisera la commande  udevadm USB 
 sudo udevadm info query=all name=ttyUSB0 Ici, nous pouvons voir clairement que le device  /dev/ttyUSB0 RFXtrx433 2eme etape: creation des alias On va alors creer dans le repertoire  /etc/udev/rules.d 99- usb 
 SUBSYSTEM==tty, SUBSYSTEMS== usb RFXCOM Ici, on cree un alias persistant nomme  ttyUSB10 RFXCOM Attention: linterface de configuration  Domoticz dev/ttyUSB* /dev/ttyS* /dev/tty. usb /dev/ttyAMA* Cec ttyRFXCOM ttyZ-WAVE ttyEnOcean ttyUSB10 RF433 ttyUSB11 Z-Wave ttyUSB12 EnOcean Au final, notre fichier  99-usr-serial.rules Le fichier  99-usr-serial.rules  ici 3eme etape: verification: On pourra verifier notre configurationavec la commande  ls l /dev/ttyUSB* Voila helas une etape un peu delicate, mais qui rassurez-vous ne sera a effectuer quune seule fois! Declaration du dongle  USB Le Raspberry Pi ayant redemarre, on se connecte a linterface  Web Domoticz http  du raspberry:8080. En accedant au menu  Configuration/Materiel USB ZStick v2 alias persistants Port serie Ajouter. Detection et importation des peripheriques  Z-Wave Il suffira alors de cliquer sur le bouton  Setup pour pouvoir acceder a la liste des peripheriques qui ont ete inclus precedemment dans le  reseau Z-Wave WallPlug Fibaro micro module  Smart Energy Illuminator  Home Energy Meter AeonLabs On pourra acceder a la configuration des parametres specifiques (se referer a la documentation constructeur) du peripherique  Z-Wave Request current stored values from devices   Apply configuration for this device.  Z-Wave domoticz/Config  Domoticz Une fois cette configuration terminee, longlet  Configuration/Peripheriques Z-Wave Pour des peripheriques  Z-Wave ET remontee dinformation puissance instantanee consommation denergie Comme auparavant, on selectionnera les fonctions que lon veut controler ou monitorer a travers Domoticz en utilisant la  petite fleche verte Utilisation A partir de la,  Z-Wave RFX433 Z-Wave RF433 RF433 Z-Wave phase Et les choses interessantes commencent car on peut alors enrichir nos differentes  scenes/groupes scenarios puzzle RF433 Z-Wave On pourra par exemple:  enrichir notre scene  TousAOn prises variateurs 300W  Chacon WallPlug  Z-Wave Fibaro micros modules AeonLabs domotique  piloter notre micro module  Z-Wave Smart Energy Illuminator Chacon RF433 Ainsi, notre telecommande  RF433 RF433 Z-Wave Z-Wave RF433 WAF Suivi de consommation electrique Les differents peripheriques  Z-Wave WallPlug Fibaro Smart Energy Illuminator  Home Energy Meter AeonLabs Domoticz Ces fonctions de suivi de consommation denergie sont presentees dans longlet  Mesures On pourra meme obtenir un rapport mensuel de sa consommation, et en ayant pris soin de configurer le prix du  kWh Configuration Parametres de lapplication,  Conclusion Lintegration du protocole  Z-Wave Domoticz On laura vu au travers de ces deux articles, une fois les peripheriques importes,  Domoticz Z-Wave RF433 Le maitre mot ici est encore une fois simplification pour lutilisateur! Domoticz domotique multi protocoles domotique Comme indique dans le precedent article, il reste certes encore quelques petits bugs de jeunesse.mais esperons que le succes que rencontre  Domoticz Et comme promis, nous verrons dans un prochain article comment integrer le support de la technologie  EnOcean A suivre! PS : Encore un grand merci a Jean-Bruno, notre expert Domoticz, pour cet article.  Simple Share Buttons Adder (5.6) simplesharebuttons.com  
 Ces sujets pourraient vous interesser aussi: Aucune proposition. END .entry-content  
        </text>
</document>
