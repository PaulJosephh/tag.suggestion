<document>
	<date>2014-03-18</date>
        <title>Guide dinstallation du dtecteur douverture Fibaro FGK-101 avec le Home Center 2</title>
        <author> Bruno </author>
        <tags_set>
                <tag>detecteur ouverture</tag>
                <tag>fgk</tag>
                <tag>fgk-101</tag>
                <tag>guide</tag>
                <tag>hc2</tag>
                <tag>Home Center 2</tag>
                <tag>tuto</tag>
                <tag>z-wave</tag>
        </tags_set>
        <categories_set>
                <category>Z-Wave Applications</category>
        </categories_set>
        <text>
                                                         Le Home Center 2 communique nativement en utilisant la technologie  Z-Wave Fibaro FGK-101 Z-Wave 1- Installation Rendez-vous sur linterface du controleur  Fibaro Cliquez ensuite sur Add or remove device situe a gauche de votre interface. Cliquez sur le bouton Ajouter dans la rubrique Ajouter un module pour inclure ce module. Si votre module a deja ete inclus dans un autre reseau  Z-Wave Apres avoir clique sur Ajouter (dans la rubrique Ajouter un module), une nouvelle fenetre nommee Ajout des modules apparait avec un compte a rebours durant lequel vous devez inclure votre module. Pour realiser linclusion, vous devez maintenir enfonce le contact anti-sabotage a larriere de votre module FGK-101 pendant que vous appuyez 3 fois brievement sur le bouton dapprentissage(le bouton dinclusion)situe a linterieur du module entre la pile et lantenne Z-Wave Une fois que votre module est detecte par votre Home Center 2, celui-ci va etre configure automatiquement. Il apparait desormais dans linterface de votre controleur dans la rubrique Modules (dans notre cas, nous avions deja un detecteur douverture de porte inclus dans notre reseau mais nous avons ajoute un second). 
 Grace a votre module  Fibaro mesurer la temperature dune piece Fibaro emetteur Zwave Fibaro Pour beneficier de ces fonctions, vous devez imperativement inclure votre module  Fibaro Fibaro guide dutilisation du module Fibaro FGK 2- Configuration Apres avoir correctement installe votre module, vous allez pouvoir configurer ses parametres (dans la rubrique Modules de votre interface). Dans la categorie General de votre module, vous pouvez indiquer son nom, la piece dans laquelle il se situe (pensez a sauvegarder vos modifications dans la barre situe a droite de votre ecran). Vous pouvez egalement visualiser les informations de ce module : genre, type de module, fabricant, version, configuration et ID. Dans la categorie Avance, vous pouvez visualiser et configurer des parametres supplementaires. Voici les parametres que vous pouvez configurer : Avance : Intervalle de reveil (s) : Intervalle de reveil de ce module. Celui-ci se reveillera periodiquement en notifiant le controleur (etat batterie) et permettra ainsi daugmenter la longevite des piles mais en contre partie, les requetes vers ce module seront emises lors de son reveil. Delai entre chaque interrogation : Delai dinterrogation du peripherique par le controleur. Ne pas marquer comme mort : Votredispositifnedoit pas etre marque commemort, meme si vousle desactivez. Notify when battery low via e-mail : Etre averti en recevant une notification par email lorsque la batterie est faible. Use template for parameters :  Utiliser ou non le modele pour les parametres. Sauvegarder les journaux dans le panneau devenements. Alarm settings : 
 Sensor is excluded from alarm system :  Permet dexclure (ou non) le detecteur  du systeme dalarme. Sensor arming conditions : Si votre detecteur nest pas exclu du systeme dalarme, vous pouvez : 
 S pecifier les conditions qui doivent etre remplies pour armer le capteur Utilisez cette fonction si vous voulez que votre des etats dautres appareils (par exemple si un store est ferme Choisir le mode dalarme : Normal, toujours arme ou toujours desarme. Forcer automatiquement letat de lappareil a larmement (avec un temps de tentative de rearmement). Si vous etes en mode dalarme Normal, cela signifie que vous pouvez armer ou desarmer lappareil via linterface, des scenes ou des peripheriques virtuels (Lua). Minformer : Par  SMS SMS Par email : Vous etes informe par email pour lallumage, lextinction ou changement de statut du module. Par notification Push : Vous recevez une alerte dinformation sur lecran de votre tablette ou smartphone pour lallumage, lextinction ou changement de statut du module. Description du module : Associations : Configuration : Parametre 1 : Delai dannulation de lalarme dentree (IN). Delai supplementaire apres que alarme de lentree (IN) a cesse Ce parametre permet a lutilisateur de specifier un delai supplementaire apres que lalarme dentree (IN) est annulee une fois que son infraction a cesse. Parametre 2 : Permet dactiver ou non un signalement par la LED dun changement de statut. Parametre 3 : Permet de choisir le t ype dentree IN  (entree NC normalement fermee, entree NO normalement ouverte, entree momentanee, entree bascule). Parametre 5 :  Type de trame de commande transmise pour le groupe dassociation 1 via lentree IN. Ce parametre vous permet de specifier le type de trame  dalarme ou de forcer controle de transmission de trames ( Valeur du parametre specifiant le niveau de forcage de la n ouverture stores quand dispositifs du groupe de lassociation n  1 En cas de trames dalarme, une  priorite dalarme  est specifiee . La valeur 255  d un dispositif Dans le cas dun module variateur, il sera active et regle dans son etat precedemment stocke. Par exemple, si le variateur est regle a 30%, desactive et reactive en utilisant la commande 255, alors il sera automatiquement regle sur son precedent etat : 30%. Parametre 9 :  Desactivation de la transmission de lalarme dannulation de trame ou le controle de trame desactive le dispositif (Basic). Ce parametre permet de desactiver la fonction de desactivation de lappareil et lannulation des alarmes pour dispositifs associes a lentree IN Parametre 12 :  Permet de regler la sensibilite aux variations de temperature La difference maximum acceptable entre la derniere temperature rapportee et la temperature actuelle lue par le detecteur. Si les temperatures different par la valeur reglee ou plus, un rapport avec la valeur de la temperature actuelle  est envoye au dispositif  affecte au groupe dassociation 3 Parametres disponibles :  0  255 [ a 16  C [  60,8 Pour definir une valeur de parametre approprie utilisez la formule suivante x = delta T x 16  pour Celsius x = delta T x 80 pour Fahrenheit x = valeur du parametre delta T  gradient de temperature maximum acceptable en degres Celsius ou Fahrenheit Si la valeur est definie a 0  Si lintervalle de reveil est regle sur 255 rapport de la temperature vous sera envoyee fonction de lintervalle  Si lintervalle de reveil est regle  plus de 255 rapport de la temperature sera envoye toutes les 4 minutes Parametre 13 : Envoie une alarme ou une trame de controle (pour lentree IN, selon la valeur du parametre n5), et la trame du bouton dalarme TMP bouton.La trame est envoyee en mode broadcast, cest a dire a tous les equipements a sa portee. Les informations envoyees dans ce mode nest pas repete par le reseau maille. Parametre 14 : Fonctionnalite dactivation de la scene. Par exemple : Lentree IN : Passer du OFF a ON ID10 Passer du ON a OFF ID11 Les ID restants sont reconnus correctement si la valeur du parametre n 3 etait fixe a 2. Maintenant ID12 3- Exemple de scenario Votre imagination est la seule limite pour creer un scenario. Nous allons prendre un exemple de scenario :  Lorsque ma porte dentree souvre, mon module ON/OFF Wall Plug FGWPE-101 se met sur ON pour allumer ma lampe et eclairer la piece. Vous devez en premier lieu vous rendre dans la rubrique Scenes situe en haut, dans le menu de votre interface. Cliquez ensuite sur Ajouter dans la rubrique Ajouter une scene. Dans General, vous pouvez configurer le nom de la scene et la piece dans laquelle elle se situe, loption dafficher ou non la scene dans linterface, la commande vocale pour mettre en marche ou arret la scene, une option dactivation de la scene, que celle-ci se lance lors du demarrage du Home Center 2, la proteger avec mot de passe et permettre ou non a une alarme qui senclenche darreter la scene. Rendez-vous ensuite dans la rubrique Avance. Vous allez pouvoir creer votre scenario en choisissant lune des deux options :  Ajouter une scene en utilisant les blocs graphiques (blocs aadditionner : condition, action) : Pour creer votre scene en utilisant les blocs graphiques, cliquez sur le bouton +. Un menu va apparaitre pour choisir vos composants. Lorsque vous choisissez un composant (exemple : module), un bouton condition apparait avec les options suivantes : Et, Ou, Alors. Nous realisons le scenario suivant: Si mon module FGK-101 detecte louverture de porte, alors le module ON/OFF Wall Plug FGWPE-101 se met sur ON pour allumer ma lampe. Noubliez pas de sauvegarder en cliquant sur Sauver. Veuillez noter que loption  Detecteur PORTE  dans Triggering device est cochee. Cela signifie que votre scenario senclenche automatiquement des la detection de louverture de porte.  Ajouter une scene en LUA (langage de programmation de scripts LUA) : Une autre option pour creer votre scene est en LUA. Cliquez sur Ajouter dans la rubrique Ajouter une scene en LUA. Nous pouvons ecrire notre scene en LUA. Nous voulons creer la scene suivante : Lorsque mon module FGK-101 detecte louverture de porte, mon module ON/OFF Wall Plug FGWPE-101 se met sur ON pour allumer ma lampe. Ce qui represente, en langage LUA, la scene suivante : SI ALORS FIN Voici les etapes pour la creation de la scene : Etape 1 : Nous allons retenir les numeros identifiants des modules (ID) :  Detecteur douverture de porte FGK-101 :  240  Module ON/OFF Wall Plug FGWPE-101 :  230 (Pour retrouver vos numeros identifiants des modules, cliquez sur la rubrique Modules de votre menu puis sur votre module au choix, celui-ci affiche dans General, son numero ID). Etape 2 : Votre scene en langage LUA doit toujours commencer avec l entete [[ %% globals (Cette entete est deja mis en place automatiquement dans votre interface). Etape 3 : Etant donne que nous voulons un declenchement automatique, nous devons utiliser la fonction Trigger IF THEN Call ID SI OUVERT ALORS ON FIN  Pour letat du detecteur douverture de porte FGK-101, la valeur  1 Detection 0 Aucune detection  Une action secrit :  fibaro 230 turnOn   Pour finir, il faut indiquer le mot  end Voici notre scene complete : 
 [[ 240 value %% globals local Detecteur Detecteur =  fibaro if (Detecteur == 1) then fibaro end Attention : pour la programmation en LUA, vous devez bien respecter la syntaxe car votre scenario ne pourra fonctionner si il y a une faute de signe, chiffre ou lettre. Ce module FGK-101 peut bien evidemment servir pour dautres applications (comme par exemple, desactiver le chauffage lors de louverture dune fenetre/porte). Pour plus dinformations sur la creation de scenarios, rendez-vous sur notre article :  Creation de scenarios (blocs graphiques et LUA) avec le Home Center 2  Simple Share Buttons Adder (5.6) simplesharebuttons.com  
 Ces sujets pourraient vous interesser aussi: Aucune proposition. END .entry-content  
        </text>
</document>
