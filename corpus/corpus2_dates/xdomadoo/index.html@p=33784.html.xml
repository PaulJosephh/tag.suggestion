<document>
	<date>2014-03-13</date>
        <title>Guide dutilisation de la box HomeWizard en tant que passerelle pour le Home Center 2</title>
        <author> Bruno </author>
        <tags_set>
                <tag>chacon</tag>
                <tag>di-o</tag>
                <tag>fibaro</tag>
                <tag>guide</tag>
                <tag>hc2</tag>
                <tag>Home Center 2</tag>
                <tag>homewizard</tag>
                <tag>passerelle rf</tag>
                <tag>somfy</tag>
                <tag>somfy rts</tag>
                <tag>tuto</tag>
        </tags_set>
        <categories_set>
                <category>Chacon Applications</category>
                <category>Z-Wave Applications</category>
        </categories_set>
        <text>
                                                         Consideree comme lune des meilleures boxs  domotique Chacon Coco Somfy HomeWizard Z-Wave 1- Identifier les elements connectes au HomeWizard Linteret dutiliser une box  HomeWizard Z-Wave Chacon Somfy Coco Somfy Chacon Z-Wave Vous devez en premier lieu vous connecter sur linterface de votre box  HomeWizard Dans notre exemple, nous avons trois elements (Lampe A, Lampe B et Volet) ainsi quune scene (Nuit) qui permet dallumer les deux lampes et fermer le volet roulant lors de son activation. Apres avoir identifie les elements et scenes que vous allez integrer sur votre Home Center 2, accedez a votre box en local en tapant ladresse suivante dans votre navigateur: http AdresseIPHomeWizard MotdepasseHomeWizard (vous pouvez retrouver ladresse IP de votre  HomeWizard http homewizard Une fenetre au format JSON apparait. Cette fenetre vous permet de visualiser les numeros ID de vos elements et scenes. Dans notre exemple, Lampe A a le numero ID  0 2 1 0 Vous pouvez desormais realiser des requetes  HTTP - Activer un element ON/OFF : http AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDElementSwitch - Desactiver un element ON/OFF : http AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDElementSwitch - Variation dun element : http AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDElementVariateur - Ouverture dun volet roulant  Somfy http AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDVoletRoulantSomfy - Fermeture dun volet roulant  Somfy http AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDVoletRoulantSomfy - Arret de louverture ou fermeture dun volet roulant  Somfy http AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDVoletRoulantSomfy (pour plus dinformations concernant, consultez notre  guide dutilisation du volet roulant  Somfy domotique - Activer une scenepar requete  HTTP http AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDScene - Desactiver une scenepar requete  HTTP http AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDScene Pour plus dinformations concernant les requetes HTTP HomeWizard cliquant ici HomeWizard HTTP HomeWizard http Homewizard 2- Integrer les elements connectes au HomeWizard sur le Home Center 2 Apres avoir identifie les numeros ID de vos elements et scenes puis verifie le bon fonctionnement de vos requetes  HTTP Dans la rubrique Modules, cliquez sur Add or remove device situe a gauche de votre interface. Vous allez pouvoir integrer un element ou scene de votre  HomeWizard 2.1- Integrer un element Pour integrer un element de votre HomeWizard (interrupteur, module pour volet roulant etc), veuillez suivre notre procede. Dans notre exemple nous decidons dintegrer un element ON/OFF nomme Lampe A (il sagit dun interrupteur qui commande notre lampe).Dans General nous indiquons le nom et la piece dans laquelle se situe notre module virtuel. Nous cliquons ensuite sur la rubrique Avance. Dans la rubrique Avance, nous choisissons le type de bouton pour notre module virtuel. Etant donne quil sagit dun interrupteur On/Off, nous allons donc ajouter deux boutons. Le premier bouton permettra de mettre sur On notre element, le second de le mettre sur Off.   Nous devons donc definir les deux actions de cet element : On et Off.   Pour activer un element,vous devez indiquer le nom de votre action ainsi que lID puis cocher la case Code Lua et ecrire le code suivant : 
 HWS = Net.FHttp( AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDElement Pour desactiver un element, vous devez indiquer le nom de votre action ainsi que lID puis cocher la case Code Lua et ecrire le code suivant : 
 HWS = Net.FHttp( AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDElement Apres avoir cree vos actions, validez en cliquant sur licone de sauvegarde situee a droite dans la barre flottante de votre interface. Votre module apparait desormais dans la categorie Modules et vous pouvez activer ou desactiver votre element a laide des boutons (dans notre cas, nous pouvons allumer ou eteindre notre lampe connectee au HomeWizard). Vous pouvez egalement utiliser votre element dans un scenario.   Si nous aurions voulu ajouter un volet roulant  Somfy  Ouvrir le volet roulant  Somfy HWS = Net.FHttp( AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDVoletRoulantSomfy  Fermer le volet roulant  Somfy HWS = Net.FHttp( AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDVoletRoulantSomfy  Arreter louverture ou fermeture du volet roulant Somfy : HWS = Net.FHttp( AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDVoletRoulantSomfy 2.2- Integrer une scene Pour integrer une scene de votre HomeWizard, veuillez suivre notre procede. Dans notre exemple nous decidons dintegrer notre scene Nuit (en activant cette scene, notre volet roulant se ferme et nos Lampes A et B sallument). Dans General nous indiquonsle nom et la piece dans laquelle se situe notre module virtuel. Nous cliquons ensuite sur la rubrique Avance. Dans la rubrique Avance, nous choisissons le type de bouton pour notre module virtuel. Etant donne quil sagit dune scene que nous voulons activer ou desactiver, nous allons donc ajouter deux boutons. Le premier bouton permettra dactiver notre scene, le second de la desactiver. Nous devons donc definir les deux actions de cet element : Activer et Desactiver. Pour activer une scene, vous devez indiquer le nom de votre action ainsi que lID puis cocher la case Code Lua et ecrire le code suivant : 
 HWS = Net.FHttp( AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDScene Pour desactiver une scene, vous devez indiquer le nom de votre action ainsi que lID puis cocher la case Code Lua et ecrire le code suivant : 
 HWS = Net.FHttp( AdresseIPHomeWizard MotdepasseHomeWizard NumeroIDScene Votre module apparait desormais dans la categorie Modules et vous pouvez activer ou desactiver votre scene a laide des boutons (dans notre cas, nous pouvons activer ou desactiver notre scene Nuit). Vous pouvez egalement utiliser votre scene du HomeWizard dans un scenario de votre Home Center 2. 3-Creer une scene combinant tout les elements Grace a lutilisation de la box HomeWizard en tant que passerelle pour le Home Center 2, vous pouvez creer des scenes en combinant tout type de produits ( Z-Wave Chacon Apres avoir cree votre module virtuel, accedez a la rubrique Scenes situee dans le menu en haut de votre interface. Cliquez ensuite sur Ajouter dans Ajouter une scene. Vous indiquez le nom de votre scene ainsi que la piece dans laquelle elle se situe puis cliquez sur Avance. Dans Avance, vous choisissez le type de scene que vous allez creer : Blocs graphiques ou Lua. Nous allons creer un exemple de scene en utilisant les blocs graphiques. Notre scene est : Si linterrupteur On/Off se met sur On, alors notre Lampe A (element de notre HomeWizard) se met sur On. Nous selectionnons donc les elements pour notre scene (nous avons ajoute un element de notre HomeWizard dans cette scene mais nous aurions egalement pu ajouter une scene creee sur linterface du HomeWizard). Voici notre scene (loption Interrupteur On/Off dans Triggering Device est cochee car notre scene sactivera automatiquement). Pensez a sauvegarder apres avoir configure une scene. Pour realiser une scene en LUA, vous devez identifier le numero ID du module virtuel. Apres avoir cree votre scene en utilisant la methode des blocs graphiques puis sauvegarde, revenez dans cette rubrique puis cliquez sur Changer dans Passer en mode edition de scenes LUA. Votre scene, initialement creee avec la methode des blocs graphiques est desormais affichee en LUA. Nous pouvons donc visualiser le numero ID du module virtuel pour ensuite utiliser celui-ci pour dautres scenes en LUA. Dans notre exemple, le numero ID de notre module virtuel est :  410 Nous pouvons donc imaginer tout type de scenarios en langage LUA en utilisant notre numero ID du module virtuel. Par exemple, si notre detecteur dinondation (ayant comme numero ID : 393) detecte une inondation alors le module virtuel se met sur ON. Nous reprenons notre numero ID de notre module virtuel. Voici notre scenario : 
 [[ 393 value %% globals local Inondation Inondation =  fibaro if (Inondation == 1) then fibaro end Si nous aurions souhaite mettre sur OFF notre module, alors laction de notre scenario secrirait : fibaro Pour plus dinformations, decouvrez notre guide sur la  creation de scenarios (blocs graphiques et LUA) avec le Home Center 2 Felicitation, vous savez desormais comment gerer et combiner facilement lensemble de vos produits a partir dune seule interface. Cela represente un grand avantage pour votre installation car vous ne dependez pas dune seule technologie et pouvez parfaitement combiner des produits  Z-Wave Chacon Coco  Simple Share Buttons Adder (4.8) simplesharebuttons.com  
 Ces sujets pourraient vous interesser aussi: Aucune proposition. END .entry-content  
        </text>
</document>
