<document>
	<date>2013-05-24</date>
        <title>
Dcouverte de la camra Raspberry</title>
        <author>Cdric Locqueneux</author>
        <tags_set>
                <tag>Raspberry-Pi</tag>
        </tags_set>
        <categories_set>
                <category>Test Materiel Informatique</category>
        </categories_set>
        <text>Raspberry  nous en parlait depuis plusieurs mois, et la voici enfin: la petite camera tant attendue qui se connecte directement au pico pc ! Sortie la semaine derniere, jai reussi a men procurer une assez rapidement (merci Nicolas ;-) pour tester, car a 25 la  camera  5M de pixels, jetais curieux de tester cela sur mon Raspberry :D  
 I. Presentation Cette camera dispose dun capteur dimage CMOS de 5 megapixels OmniVision construit sur larchitecture proprietaire OmniBSI dillumination arriere des pixels de 1,4 microns. Ce capteurest capable de prendre des photos de 2592 x 1944 pixels et de capturer des videos HD jusqua 60 images par seconde en 720p (ou 1080p a 30 images par seconde au format video H.264.). Le module camera se connecte par lintermediaire de lembase CSI deja presente sur le Raspberry Pi et se commande par un bus IC, ce qui permet une circulation des donnees tres rapide, necessaire pour un flux video HD. Capteur Omnivision 5647 avec objectif a focale fixe Capteur 5 Megapixels Resolution photo : 2592 x 1944 Resolution video maximum : 1080p Images par seconde maximum : 30fps Taille du module : 20 x 25 x 10mm Connexion par cable plat a linterface 15-pin MIPI Camera Serial Interface (CSI) (Connecteur S5 du Raspberry Pi) On recoit la camera dans une toute petite boite de la taille dun Rapsberry. En fait il fallait surtout un peu de place pour la notice :D   La camera est en effet minuscule, comme on le voit a cote dune piece de un euro:   Elle est reliee a une nappe dune quinzaine de centimetres, qui possede des connecteurs a son extremite:   Cette nappe est destinee a se glisser dans le connecteur sur la Raspberry, juste derriere le port ethernet. On leve le petit connecteur, on y glisse la nappe, et on rabat le connecteur de facon a bloquer la nappe:   Pour la connecter dans le bon sens, la languette bleue au bout de la nappe devra etre tournee vers le port ethernet:  Cest pret ! La mise en place sur le Raspberry est vraiment tres simple. Passons maintenant a la configuration logicielle.  
 II. Installation  Pour commencer, il vous faut bien sur un Raspberry Pi avec une carte SD et le systeme Raspbian installe dessus. Une fois cela fait, vous pouvez utiliser directement le Rapsberry ou vous y connecter en SSH a distance. Pour rappel, le nom dutilisateur par defaut est  pi  et le mot de passe  raspberry . On va commencer par mettre a jour le systeme histoire de recuperer tout le necessaire pour utiliser la camera. On commence donc avec la commande sudo apt-get update   Puis ensuite sudo apt-get upgrade   Ca peut prendre quelques minutes, il faut etre patient. Une fois la mise a jour effectuee, on retourne dans le parametrage du Raspberry pour autoriser la camera, en tapant sudo raspi-config  La, selectionnez loption tout en bas, puis activez la camera (enable).   Ensuite, cliquez sur Finish, et rebootez le Raspberry pour prendre en compte la configuration. Cest fini !  
 III. Utilisation  Les manipulations precedentes ont installe, en plus des drivers, deux programmes: raspistill pour la prise de photos raspivid pour la prise de videos  Chaque programme dispose de nombreuses commandes possibles. On peut appliquer a la volee des effets (negatif, noir et blanc, etc) , programmer la prise automatique de photos a intervalle regulier (pratique pour du timelapse), enregistrer une video dune certaine duree, etc Un apercu des commandes pour la video:     Un apercu des parametres pour la prise de photos:   Comme on le voit, cest tres complet !  Pour tester rapidement, la commande suivante va prendre une photo et lenregistrer dans le fichier image.jpg: raspistill -o image.jpg  Lors de la prise de photo ou de video, une petite led rouge sallume sur la camera pour signaler son fonctionnement. Exemple de photos prises avec la camera (cliquez pour zoomer et la voir en pleine definition):   Desole, pour le moment ce ne sont que des photos de mon bureau, un peu sombre :/ De plus, la camera etant au bout de sa nappe, il peut etre difficile de la tenir en etant stable. Du coup ca peut donner des photos un peu floues, meme si la camera est de tres bonne qualite:   La commande suivante enregistrera automatiquement 5s de video: raspivid -o video.h264  Vous pouvez  telecharger ici un exemple de fichier video genere avec la camera  (toujours en interieur, a mon bureau). Je le met directement en telechargement, car un hebergement sur youtube va recompresser la video. A lire avec VLC (le plus simple).  Deux autres exemples de video, qui ne sont pas de moi, mais qui permettent dapprecier la qualite de la camera Raspberry. La premiere est une video creee a partir de prises de vue prises a intervalle regulier (timelapse):   La seconde est une vraie video tournee en exterieur:   La qualite est plutot pas mal ! Bon, a noter que cest juste une camera, elle nenregistre pas le son.  
 III. Conclusion  Comme on le voit, lutilisation pour le moment de la camera avec le Raspberry nest pas tres pratique: la prise dune photo ou dune video necessite de lancer une ligne de commande, et la camera qui se balade au bout de sa nappe nest pas tres sexy. Mais il faut voir ici ce quil serait possible de faire avec cet accessoire. Le Rapsberry sadresse avant tout a des projets DIY. La sortie dune camera va simplement permettre dajouter la prise de videos ou photos nativement. Je pense notamment aux projets de drones volants ou encore de robots, ou le Raspberry est tres utilise. Dans notre domaine, jimaginerai bien lutilisation de cette camera pour en faire une camera de securite un peu boostee: capteur de 5M de pixels, prise de photos et videos en HD possibilite dy adjoindre un detecteur de mouvements sur les ports GPIO traitement des images comme on le souhaite: le Rapsberry etant un mini pc avec systeme linux, lenvoi des images par mail, sur FTP, etc nest pas un soucis faible consommation de 3,5w prix tres interessant: 40 le Raspberry + 25 la camera, soit 65 la camera IP en 5M de pixels, une super affaire ! Bref, il y a du potentiel ! Il ne manquerait plus quun joli petit boitier capable dintegrer a la fois le Raspberry et sa camera en meme temps dans une taille compacte. Cetait la une petite presentation rapide, mais je pense que nous en reparlerons dans de futurs tutos ;-) Si vous voulez tester de votre cote, il faudra patienter un peu: tout le monde a saute dessus et il est maintenant annonce plusieurs semaines de delai pour le reapprovisionnement :( Pour ma part, je lai eue chez  Farnell au prix de 23.90 . Elle arrivera sans doute tres bientot aussi dans nos boutiques preferees ;-)   Raspberry-Pi 
        </text>
</document>
