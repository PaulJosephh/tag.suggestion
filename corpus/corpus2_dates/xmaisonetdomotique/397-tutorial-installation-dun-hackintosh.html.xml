<document>
	<date>2009-07-12</date>
        <title>
Tutorial: Installation dun Hackintosh</title>
        <author>Cdric Locqueneux</author>
        <tags_set>
                <tag>Hackintosh</tag>
                <tag>Le monde MAC</tag>
        </tags_set>
        <categories_set>
                <category>Guides Informatiques</category>
        </categories_set>
        <text>Javais promis la redaction dun tuto sur linstallation dun hackintosh, alors je my met ! Ca servira certainement a quelques personnes, et ca me servira daide memoire le jour ou je devrai reinstaller le mien Je reprend volontairement le contenu danciens posts histoire de faire une synthese complete. 
 
 I. Hackintosh ?? 
 Hackintosh est un mot ne dun mix entre hacking et mackintosh. Le hackintosh, cest en fait un pc sur lequel est installe un systeme Mac OS ! Cela est possible depuis que les Mac sont bases sur des processeurs Intel, comme les PC. Mais attention: on ne peut pas installer Mac OS sur nimporte quel pc, ce serait trop facile ! Il faut une configuration etudiee, avec des composants qui ont ete testes compatibles avec Mac OS. Une grosse  base de donnees sur le materiel compatible existe ici . Je vais vous proposer ici ma configuration, selectionnee pour sa grande compatibilite, qui permet dinstaller Mac OS Leopard 10.5.6 sans bidouille, juste en inserant le CD dinstallation quon peut acheter dans le commerce.  
 II. Pourquoi ? 
 Je lorgne depuis un bon moment du cote des macs, notamment des imac 20 ou 24. Pourquoi ? Cest beau, tres beau: ordinateur tout integre dans lecran, alu brosse, tres belle qualite decran Bref, perso jadore le design:   Puis les macs sont vraiment geniaux pour ceux qui font de la photo ou de la video, domaines que jaime beaucoup. De plus, depuis que jai un iPhone, jai un tas dapplications tres sympas, quon peut synchroniser avec leurs homologues sur Mac. Cest dailleurs depuis que jai mon iphone que jai mis un pied dans le monde mac et que je my suis autant interesse. Par contre, cest cher :( (surtout vu la baisse de prix des PC aujourdhui), meme si beaucoup diront que la qualite est la, et cote evolutivite, ca reste limite, car il est difficile douvrir lecran pour aller changer des composants. Cest faisable, bien sur, mais pas des plus simples. Cest pourquoi la solution du hackintosh est aussi interessante: la configuration a assembler est beaucoup moins couteuse, et il est tres facile dy ajouter des composants ou dupgrader la configuration (memoire, disque dur, voire meme processeur).  
 III. Combien ? / Quelle configuration ? 
 Apres avoir longuement decortique plusieurs forums et blogs, je me suis finalement arrete sur cette configuration: Carte mere Gigabyte G31M-ES2L  Socket 775  Chipset Intel G31: 42.90 Carte Graphique GeForce 8400GS  512 Mo DDR2  PCI-Express 16X: 31.30 Memoire Kit de 2 Barrettes CORSAIR DDR2 PC2-6400  2 x 2 Go (4 Go) 800 MHz  CAS 5  XMS2  TWIN2X4096-6400C5: 43.99 Processeur INTEL Core 2 Duo E8400  3.0 GHz  65 Watts  0.045: 147.85 Graveur DVD Interne 20X  DVR-216D  SATA  Bulk Ivoire: 21.49 2 X Disque dur interne 3.5 500 Go 16 Mo 5400 tr/min  SATA II  Spin point F2EG Eco Green  SAMSUNG-HD502HI: 2 X 47.49 Carte FireWire 800 PCI 64 Bits 21394B +11394A: 59 A ca il faut ajouter un boitier et une alimentation (parfois fournie avec le boitier). Pour ma part jai opte pour un petit boitier laque blanc (Boitier PC Moyen Tour Corona R-3  Blanc : 39.50), et jajouterai plus tard un bel ecran 24 (compter environ 200), ainsi que le clavier et souris officiels Apple (pour me faire plaisir, et parce quapparemment le clavier apple est vraiment tres agreable). Bref, a ce jour, donc (car les prix bougent beaucoup), ma config peut couter entre 450 (composants minimums) et 700 (selon si on achete un boitier, ecran, etc). En comparant aux modeles imac, cette configuration est a peu pres lequivalente de limac 24 3Ghz qui coute aujourdhui 2000, la difference nest donc pas negligeable. Donc ok, ce nest pas tout integre, cest moins design quun imac, mais la largument prix pese assez lourd. Tout le monde naura pas besoin de la carte Firewire, personnellement je lai prise car la carte mere commandee en est depourvue, et que jen ai besoin pour les transferts de video depuis mon camescope. Sans compter que cest beaucoup plus rapide pour les transferts de donnees sur des disques externes. Pour les disques durs, jai finalement opte pour deux disques de 500Go plutot quun seul de 1To, car cela semble faciliter le dualboot, MAC OS ayant du mal a reconnaitre dautres systemes sur des partitions du meme disque physique. Et puis cela evite de mettre tous ses oeufs dans le meme panier. Ces disques Samsung sont reputes pour etre silencieux et consomment peu denergie. Ce sont des 5400 tours/min, mais cest bien suffisant pour lutilisation que jen ai, et le transfert de video nen souffre aucunement. Certains me diront surement que cette configuration nest pas la meilleure actuelle, mais ce nest pas ce qui est recherche: il nous faut du materiel hautement compatible avec Mac OS (tellement compatible que le systeme ny voit aucune difference), a bon tarif, et tout de meme suffisamment performant pour lutilisation prevue. Jai donc fait le choix de cette configuration, et aujourdhui je ne le regrette pas, car linstallation a ete tres simple, et la machine est tres rapide.  
 IV. Assemblage 
 Je ne vais pas faire un tuto sur lassemblage dun pc, si vous vous interessez a cet article cest que vous avez deja de bonnes connaissances dans le domaine. Sinon une petite recherche sur Google vous indiquera de nombreux tutos. La config assemblee chez moi donne ca:   Apres lavoir montee, je me suis appercu dune seule lacune sur cette config: la carte video, de part son radiateur passif, occupe deux slots PCI, ce qui fait quil ne reste plus quun slot utilisable, utilise chez moi par la carte Firewire. Difficile donc dajouter une autre carte, meme si je ne vois pas bien ce quil manque ici (un tuner TV ou une carte wifi integree ?).  
 V Pre installation 
 Avant linstallation, il faudra dabord telecharger quelques fichiers necessaires: CD Boot132 pour G31M-ES2L Pack de kexts specifiques pour G31M-ES2L Kext Helper NVDarwin Installer Chameleon v2 RC1 et il faudra bien sur un DVD dinstallation Retail 10.5.6 de Mac OS X (vendu dans la plupart des boutiques informatiques). Une fois que vous avez tout ca: Gravez le CD de Boot132 sur un CD-R, a vitesse lente de preference. Prenez une clef USB/CD, et mettez sur une cle Usb ou un CD le pack de kexts, Kext Helper et Chameleon. 
 V. Installation 
 Linstallation va etre realisee ici dans loptique dinstaller sur la meme machine Windows XP et Mac OS. A terme je ferai toutes mes taches sur le Mac, mais je garde un systeme Windows XP notamment pour les jeux, meme si ce nest pas mon utilisation premiere. Allumez le PC, inserez le CD Boot132 pour booter dessus, et appuyez sur Entree Des que votre lecteur DVD a fini de travailler (plus de bruit), echangez le CD avec le DVD de Mac OS; appuyez encore une fois sur entree. Vous arrivez maintenant sur le DVD dinstallation de Mac OS. Choisissez votre langue dans le menu tout en haut, allez dans Utilitaires, puis Utilitaire de disque. On attaque ici une phase importante, qui est le partitionnement des disques durs. Pour ma part, voila comment jai effectue le partitionnement: Disque 1: format de disque MBR une partition de 100 Go pour Windows XP une partition de 1Go pour le boot le reste pour Time Machine (qui permettra les sauvegardes du Mac, je reviendrai dessus plus loin). Lordre est ici tres important, Windows devant etre sur la premiere partition.   Disque 2: le format du disque sera GUID. tout le disque est consacre au systeme Mac, la partition sera donc formattee avec le format HFS+ (MAC OS Etendu journalise). Une fois le partitionnement termine: Quittez lUtilitaire de disque, et suivez les instructions pour installer Mac OS. (Vous pouvez, dans Personnaliser, supprimer les langues superflues etc) A la fin de linstallation, vous aurez le  vert; et vous rebootez. Remettez le CD de Boot132 a la place de votre DVD dinstallation, appuyez une premiere fois sur entree. La, entrez le n de votre disque dur sur lequel est installe Mac OS (Disque Dur n1 : 80; Disque Dur n2 : 81; ..) Vous verrez la liste de vos partitions apparaitre, positionnez vous sur celle ou Leopard est installe; et appuyez sur Entree Felicitations, Mac OS est installe !!!   Nous finaliserons linstallation de Mac OS apres linstallation de Windows XP, histoire de ne pas rebooter plusieurs fois pour rien. Pour installer ce dernier, inserez votre CD de Windows XP, et redemarrez le PC pour booter dessus. Effectuez linstallation de Windows comme dhabitude, en selectionnant bien la premiere partition du premier disque dur. Une fois Windows XP installe, pour quil soit pleinement fonctionnel, il faudra installer les divers Drivers fournis sur les CD dinstallation des differents composants (carte mere, carte video, notamment). Une fois linstallation de Windows terminee, remettez votre CD Boot132. Redemarrez le PC pour booter dessus, et faites la meme manipulation que precedemment (appuyez une premiere fois sur entree; entrez le n de votre disque dur sur lequel est installe Mac OS; positionnez vous sur la partition ou Leopard est installe; et appuyez sur Entree) Une fois sous Mac OS, nous allons installer le menu de demarrage qui permettra le choix entre Windows et Mac, et terminer linstallation des composants: Premiere chose a faire, sortez la clef/le cd ou vous avez Kext Helper; les Kexts et Chameleon. Installez Chameleon, en selectionnant la partition de 1Go que nous avons cree pour le Boot Menu. Lancez kext helper, cliquez sur Install Kext Selectionnez tous les kexts qui sont dans le dossier; et cliquez sur Install. Lancez NVDarwin Installer, et selectionnez la carte graphique 8400 512Mo. Cela va installer le driver necessaire a la carte video. allez dans le dossier Extra, puis copiez ca dans le com.apple.Boot.plist: keydevice-properties/key 
string4b00000001000000010000003f000000010000000 2010c00d041030a0100000001010600011c 
0101060000007fff0400160000006200750069006c00740 02d0069006e0000000500000001/string Linstallation de Windows a active la premiere partition du disque 1. Afin de pouvoir profiter du dualboot au demarrage du pc, il va falloir activer la partition BootMenu (celle de 1Go). Pour cela, redemarrez le pc avec le CD Boot132, puis switchez avec le CD dinstallation de Mac OS comme deja fait precedemment. Dans le menu Utilitaires, selectionnez Terminal. On va lister tous les disques durs, ainsi que leurs partitions avec la commande suivante : $ diskutil list On devrait obtenir quelque chose de ce genre la (dans ce cas 2 disques dur disk0 et disk1) : /dev/disk0 #:            TYPE NAME          SIZE    IDENTIFIER 0:   GUID_partition_scheme            *465.8 Gi  disk0 1:            EFI             200.0 Mi  disk0s1 2:         Apple_HFS MAC           465.4 Gi  disk0s2 /dev/disk1 #:            TYPE NAME          SIZE    IDENTIFIER 0:   FDisk_partition_scheme            *465.8 Gi  disk1 1:        Windows_NTFS Windows XP       100.0 Gi  disk1s1 2:         Apple_HFS BootMenu        1024.0 Mi disk1s2 3:         DOS_FAT_32 LINUX          40.0 Gi  disk1s3 4:         DOS_FAT_32 SWAP          10.0 Gi  disk1s5 5:         Apple_HFS Time Machine      314.8 Gi  disk1s6 /dev/disk2 #:            TYPE NAME          SIZE    IDENTIFIER 0:   FDisk_partition_scheme            *15.1 Gi  disk2 1:       Windows_FAT_32 NOUVEAU NOM       15.1 Gi  disk2s1 /dev/disk0 #:            TYPE NAME          SIZE    IDENTIFIER 0:   GUID_partition_scheme            *465.8 Gi  disk0 1:            EFI             200.0 Mi  disk0s1 2:         Apple_HFS MAC           465.4 Gi  disk0s2 /dev/disk1 #:            TYPE NAME          SIZE    IDENTIFIER 0:   FDisk_partition_scheme            *465.8 Gi  disk1 1:        Windows_NTFS Windows XP       100.0 Gi  disk1s1 2:         Apple_HFS BootMenu        1024.0 Mi disk1s2 3:         DOS_FAT_32 LINUX          40.0 Gi  disk1s3 4:         DOS_FAT_32 SWAP          10.0 Gi  disk1s5 5:         Apple_HFS Time Machine      314.8 Gi  disk1s6 On peut voir que le boot menu (Chameleon) est installe sur disk1s2 On va activer cette partition avec fdisk On lance loutil fdisk sur le disk1 fdisk -e /dev/rdisk1 On liste toutes les partitions de disk1 fdisk: 1 p On obtient quelque chose de ce genre : Disk: /dev/rdisk1geometry: 60801/255/63 [976771055 sectors] Offset: 0Signature: 0xAA55 Starting    Ending #: id cyl hd sec  cyl hd sec [   start     size]  *1: 07  0  1  1  1023 254 63 [    63  209715200] HPFS/QNX/AUX 2: AF 1023 254 63  1023 254 63 [ 209715282   2097152] HFS+ 3: 0B 1023 254 63  1023 254 63 [ 211812489   83886080] Win95 FAT-32 4: 05 1023 254 63  1023 254 63 [ 295698569  681072457] Extended DOS On remarque que la partition activee est marquee dune *, en loccurence la partition 1 (XP, HPFS/QNX/AUX). Mais ce que lon veut cest activer la partition 2 (OSX, HFS+) On active la partition 2 fdisk: 1 flag 2 
Partition 2 marked active. On ecrit sur la table de partition fdisk:*1 write 
Device could not be accessed exclusively. 
A reboot will be needed for changes to take effect. OK? [n]y 
Writing MBR at offset 0. On quitte fdisk fdisk: 1 quit Il ne reste plus qua redemarrer: si tout sest bien passe, vous avez maintenant le choix au demarrage entre Windows et Mac OS !  
 VI. Fin de linstallation 
 Pour le cote securite des donnees, il ne reste plus qua activer Time Machine sur le MAC. Indiquez lui la partition creee expres sur le premier disque dur, et le tour est joue. Mac OS fonctionnera parfaitement, comme sur un veritable MAC. Si bien que vous pouvez meme faire les mises a jour. Pour ma part je suis passe en 10.5.7 sans aucun soucis ! Jutilise maintenant cette configuration depuis quelques semaines sans le moindre probleme (ce tuto est dailleurs ecrit sur le Mac ;-) ). Voila ! Au passage un grand merci a maxo0 qui a ete lun des premiers a expliquer la manip complete pour cette carte mere. Je nai fait que completer et regrouper toutes les infos pour la config complete. Le  tuto dorigine est disponible ici .   Hackintosh   Le monde MAC 
        </text>
</document>
